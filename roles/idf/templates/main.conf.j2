{# this generates IDF specific config. It will be merged with the config generated by the common role before it is applied to the IDF #}

# *** IDF CONFIGUATION ***

{# DEFAULT GATEWAY #}
{% for site_vlan in site_vlans %}
{% if site_vlan.id == 119 %}
set routing-options static route 0.0.0.0/0 next-hop {{ site_vlan.ip }}
{% endif %}
{% endfor %}

{# TACACS #}
{% for tac_params in idf.tacacs.servers %}
{% set prefx = 'set system tacplus-server ' + tac_params.ip %}
{{ prefx }} secret "{{ tac_params.secret }}"
{{ prefx }} source-address {{ tac_params.src_addr }}
{% endfor %}
